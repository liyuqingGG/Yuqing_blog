---
title: 接口测试
date: 2022-04-17 13:22:08
permalink: /pages/a7e63e/
categories:
  - 技术
  - 测试
  - 接口测试
tags:
  - 
---
### ***无页面/有页面时***
无页面时进行接口测试，测试应尽早介入。

有页面，是否需要进行接口测试？

***看公司要求，为安全性考虑有必要，如：前端登录输入手机号，因前端判断前端只会输入正确格式的手机号交给后端进行判断，过程中被抓包把前端手机号改为12位，后端是否有能力支持判断？这是前端页面测不出来的***

接口测试完，是否需要进行前端页面测试？

***需要，1.前端接口调用 2.前端数据基本校验***

### ***有/无接口文档时***
有接口文档：postman

无接口文档：fiddler抓包，web端也可以直接F12

### 要做接口测试，接口信息要有哪些
1. 接口名称
2. 接口访问地址
3. 接口请求方式(get,post)
4. 传入参数
5. 服务器返回结果

### 接口属于哪个测试阶段
集成

### get&post
1. get请求方式地址
    - http:主机地址:端口号/text/text_01/模块/接口名?参数1:XXX&参数2:XXX
2. post请求地址方式
    - http:主机地址:端口号/text/text_01/模块/接口名
    - body体:参数1:XXX&参数2:XXX

### 接口测试用例设计，根系统功能测试用例设计思路是否一样？如何设计
一样

1. 考虑接口的正常调用，输入正常参数，检查接口返回的响应结果跟接口文档预期是否一致，包括status(状态),code等
2. 考虑接口的异常验证，类型，必填值，同步考虑边界等如传递类型错误，id支持整数是否支持小数or字符串，过大或为负数，接口是否能处理
3. 业务规则验证，如权限不够无法修改其他任务
4. 接口安全性验证，用户相关信息是否加密（查数据库）
5. 接口性能测试

### 接口数据传递方式

1. XML
2. Json

### jmeter进行接口测试的原理是什么
1. 用工具去模拟客户端发起请求，服务器接受请求返回结果，工具模拟客户端接受请求 fiddler原理？？？？

### jmeter使用
1. jmeter for mac 配置
    - 下载java JDK
    - 下载jmeter for mac
2. jmeter 使用 
    1. 创建线程组
      - 线程数 == 并发数 普通功能测试1，涉及性能按照需求更改
      - 循环次数 针对每个线程的循环
    2. 添加sampler(采样器)
      - 选择协议(http)
      - 填写协议(http) 默认：http
      - 服务器 or ip
      - 端口号 默认：80
      - 请求方法(get)
      - 路径 栗子:http:主机地址:端口号/text/text_01/模块/接口名?参数1:XXX&参数2:XXX 路径为:/text/text_01
      - Content encoding (编码类型) utf-8
      - 参数 小提示:复制后点Add from Clipboard可以直接粘贴过来
    3. 添加监听器-->查看结果树
      -
### JDBC
1. jdbc就是针对数据库的请求
2. 添加sampler(采样器) JDBC request
3. 连接数据库，添加配置元件JDBC
4. 选择jdbc的jar包
4. 选择类型，编写sql语句，然后运行
![mysql_jdbc_jar包下载地址](https://dev.mysql.com/downloads/connector/j/)

### 参数化三种方式
1. 用户定义的变量
    - 添加配置元件--用户定义的变量，引用方法：${变量名}
    - 注册-登录-下一步操作，重定向到登录页面，原因：未把登录时服务器返回的响应头里面的cookice传给下一步操作接口，所以认为未登录，重定向到登录页面要求登录，解决方法：添加配置元件--HTTP cookice管理器，添加后同级目录下所有需要cookice的地方都会自动传入
2. 配置元件CSV Data Set Config 文档
3. 
