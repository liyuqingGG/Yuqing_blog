---
title: mysql语法相关
date: 2022-04-10 17:10:54
permalink: /pages/1ba760/
categories:
  - 技术
  - Mysql
tags:
  - mysql
titleTag: 真原创,100%手打
---
## 概念

SQL:结构化查询语言，Structured Query Language

SQL是用于访问和处理数据库的标准计算机语言

<!-- more -->

## 数据类型

1. **整形:**
    - tinyint:占1字节，取值范围-128～127
    - int:占4字节

2. **字符串型:**
    - char(n):最多255个字符，固定长度
    - varchar(n):最多65535个字符，可变长度

3. **时间和日期:**
    - date:日期，格式(yyyy-mm-dd)
    - tune:时间，格式(hh:mm:ss)
    - datetime:日期时间，格式(yyyy-mm-dd hh-mm-ss)

4. **浮点型:**
    - float(m,d):单精度浮点型，m总位数，d小位数
    - 栗子：99.99-->float(4,2) 共4位数，2位小数
    - double(m,d):双精度浮点型，m总位数，d小位数
    - decimal(m,d):精准数据类型

## 相关语法

### 查看数据库

~~~~sql
show databases;
~~~~

### 创建数据库

~~~~sql
create database text_01;
~~~~

### 创建表

~~~~sql
-- 语法
create table 表名(字段名 类型,字段名 类型)default charset=utf8;
-- 栗子
CREATE TABLE text_01(
	id INT PRIMARY KEY,
	username VARCHAR(10),
	telephone_number CHAR(11),
	address VARCHAR(120)
)DEFAULT charset = utf8;
~~~~

### 多表查询

~~~~sql
-- 语法
select 要查询的字段 from 表1，表2... where 关联条件和过滤条件;
-- 注意：多表关联，字段要加上表前缀来区分是哪张表的字段
-- 栗子,需求：查询id为1001的用户的用户名,手机号码(text_01),以及该用户喜欢的运动(text_02)
SELECT
	text_01.username,
	text_01.telephonenumber 
FROM
	text_01,
	text_02 
WHERE
	text_01.id = text_02.memberid
AND text_01.id = 1001
~~~~

### ORDER BY
~~~~sql
-- 语法
select * from text_01 order by 需要排序的字段名 asc
-- 默认升序排列(asc)
~~~~

### IN
~~~~sql
-- 在
 select ... from text_01 where ... in ()
-- 不在
 select ... from text_01 where ... not in ()
~~~~

### LIKE
~~~~sql
-- 小开头任意结尾
select * from text_01 where usernanme like '小%';
-- 任意开头小结尾
select * from text_01 where usernanme like '%小';
-- 只要包含小的
select * from text_01 where usernanme like '%小%';
~~~~

### GROUP BY
~~~~sql
-- 语法
select 查询字段,聚合函数 from 查询设计到的表 group by 分组字段 having 过滤条件;
-- 聚合函数
sum() max() 等
-- 栗子
-- 统计text_01中每个人的平均分数
SELECT
	*,
	avg( fraction ) 
FROM
	text_01 
GROUP BY
	username;
~~~~

### BETWEEN
~~~~sql
-- 语法
select ... from 表名 where 条件字段 between 数值A and 数值B;
-- 包括边界值
-- 栗子
SELECT
	* 
FROM
	text_01 
WHERE
	id BETWEEN 3 
	AND 10;
-- 等同于
SELECT
	* 
FROM
	text_01 
WHERE
	id >= 3 amd id <= 10;
~~~~

### DISTINCT
~~~~sql
-- 语法
select distinct 字段名 from 表名;
-- 去重
-- 栗子
select distinct id from text_01;
~~~~

### LIMIT
~~~~sql
-- 语法
select ... from 表名 limit m,n
-- m指索引开始,n表示每页取多少条
-- 栗子
-- 每页取十条展示
-- 索引0开始取10条，展示信息为tex_01全字段信息
select * from text_01 limit 0,10;
-- 索引10开始取10条，展示信息为tex_01全字段信息
select * from text_01 limit 10,10;
-- 索引20开始取10条，展示信息为tex_01全字段信息
select * from text_01 limit 20,10;
-- text_01按分数排序然后取前5条
SELECT
	* 
FROM
	text_01 
ORDER BY
	fraction ASC 
	LIMIT 0,5;
~~~~

