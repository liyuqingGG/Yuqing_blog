---
title: mysql的安装
date: 2021-10-21 10:01:28
permalink: /pages/42ea29/
categories:
  - 记录
  - Mysql
tags:
  - mysql
titleTag: 原创
---
### Ubuntu20,mysql8

#### 安装
```bash
sudo apt update
sudo apt install mysql-server
# Ubuntu20默认安装mysql8
```

#### 验证安装是否成功
```bash
systemctl status mysql
```
![验证](https://fastly.jsdelivr.net/gh/liyuqinggg/cdn@1.4/mysql-install_01.jpg)

#### 登录
```bash
sudo mysql -u root
# 首次可直接无密码登录
# 至此安装结束，现在只限本机使用，很不方便
```

#### 配置远程连接
```bash
# show databases一下会发现很多库，需要去mysql库中的user表更改些信息并授权

# 1.
use user;

# 2.看下现在user表的user，host，authentication_string字段
select user,host,authentication_string from user;
```
![user表](https://fastly.jsdelivr.net/gh/liyuqinggg/cdn@1.4/mysql-install_02.jpg)


```sql
-- 3.可以看到user-root，host-localhost，authentication_string-空

-- 4.接下来更改root用户的host
update user set host="%" where user="root";

-- 5.给予root用户所有权限
GRANT ALL privileges on root.* to 'root'@'%';
GRANT ALL ON *.* TO 'root'@'%';

-- 6.修改root用户密码及加密方式
ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'yourpassword';

-- 7.刷新权限
FLUSH PRIVILEGES;

-- 8.退出mysql(exit),修改mysql配置文件mysqlid.cnf
sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf
-- 注释 bind-address=127.0.0.1

# 9.重启mysql服务
sudo systemctl restart mysql.service
#至此数据库可远程连接
```
![navicat](https://fastly.jsdelivr.net/gh/liyuqinggg/cdn@1.4/mysql-install_03.jpg)



