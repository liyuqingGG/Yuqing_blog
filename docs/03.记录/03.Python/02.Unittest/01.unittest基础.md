---
title: unittest基础
date: 2021-08-26 22:08:42
permalink: /pages/a13db2/
categories:
  - 记录
  - Python
  - Unittest
tags:
  - 
titleTag: 原创
---

## unittest四大组件
1. TestCase  测试用例
    - 定义一个测试用例类，必须继承unittest模块中的TestCase类
    - 测试用例类中，一个test开头的就是一条测试用例
    - 用例执行逻辑编写
2. TestSuite 测试套件
3. TestRunner 测试运行
<!-- more -->
```python
import unittest
from unittestreport import TestRunner
# 创建测试套件收集测试用例类
suite = unittest.defaultTestLoader.discover('TestCase文件夹路径')
runner = TestRunner(suite)
runner.run()
```
4. fixtrue 测试夹具
- **前置：**
    - setUp 用例级别的前置：每条用例执行前执行
    - tearDown 用例级别的后置：每条用例执行后执行
- **后置：**
    - setUpclass 测试类级别的前置
    - tearDownclass 测试类列级别的后置




## unittest使用大致流程
1. 准备测试用例数据  excel表
2. 创建测试类
  - 使用ddt数据驱动
  - 细化测试用例逻辑 是否有前置需要
      1. 接口参数 预期
      2. 运行获取实际结果
      3. 断言
           - 成功：回写数据到excel 输出log为用例通过
           - 失败：回写数据到excel 输出log为用例不通过
           - 数据库校验
3. 运行测试用例类
  - unittestreport中的TestRunner方法
4. 运行成功查看日志&excel回写&unittestreport生成的测试报告